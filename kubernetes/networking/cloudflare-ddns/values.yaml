---
app-template:
  controller:
    type: cronjob
    cronjob:
      concurrencyPolicy: Forbid
      schedule: "@hourly"
  restartPolicy: OnFailure
  image:
    repository: ghcr.io/onedr0p/kubernetes-kubectl
    tag: 1.27.1@sha256:46cd239aaf1797e5333036e41d32febf4e40f554e103f5008ff43387bcb49a57
  command: ["/bin/bash", "/app/cloudflare-ddns.sh"]
  envFrom:
    - secretRef:
        name: cloudflare-ddns-secrets
  service:
    main:
      enabled: false
  persistence:
    config:
      enabled: true
      type: configMap
      name: cloudflare-ddns-configmap
      subPath: cloudflare-ddns.sh
      mountPath: /app/cloudflare-ddns.sh
      defaultMode: 0775
      readOnly: true
